{% extends 'core/base.html' %}
{% load static %}

{% block title %}Raíz Digital - Marketplace de Comunidades Indígenas{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/variables.css' %}">
<link rel="stylesheet" href="{% static 'core/css/marketplace.css' %}">
{% endblock %}

{% block content %}
<!-- Barra de navegación -->
<nav class="navbar" id="navbar">
    <div class="nav-container">
        <div class="nav-left">
            <a href="{% url 'core:index' %}" class="nav-logo">
                <img src="{% static 'core/img/logo.svg' %}" alt="Raíz Digital" class="logo-img">
                <span class="logo-text">Raíz Digital</span>
            </a>
        </div>
        
        <div class="nav-center">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Buscar artesanías, alimentos, arte...">
                <button class="search-btn">
                    <svg viewBox="0 0 24 24" class="search-icon">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="nav-right">
            <a href="#" class="nav-link">Productos</a>
            <a href="#" class="nav-link">Comunidades</a>
            <a href="#" class="nav-link">Noticias</a>
            <a href="#" class="nav-link">Eventos</a>
            
            {% if user.is_authenticated %}
                <div class="user-menu">
                    <button class="user-btn">
                        {% if user.foto_perfil %}
                            <img src="{{ user.foto_perfil.url }}" alt="{{ user.nombre }}" class="user-img">
                        {% else %}
                            <div class="user-icon">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                </svg>
                            </div>
                        {% endif %}
                        <span class="user-name">{{ user.nombre }}</span>
                        <svg class="dropdown-icon" viewBox="0 0 24 24">
                            <path d="M7 10l5 5 5-5z"/>
                        </svg>
                    </button>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">Mi Perfil</a>
                        {% if 'vendedor' in user.roles %}
                            <a href="#" class="dropdown-item">Mis Productos</a>
                        {% endif %}
                        {% if 'administrador' in user.roles %}
                            <a href="#" class="dropdown-item">Panel Admin</a>
                        {% endif %}
                        <a href="#" class="dropdown-item">Mis Pedidos</a>
                        <a href="{% url 'core:logout' %}" class="dropdown-item">Cerrar Sesión</a>
                    </div>
                </div>
            {% else %}
                <a href="{% url 'core:login' %}" class="nav-btn btn-login">Ingresar</a>
                <a href="{% url 'core:register' %}" class="nav-btn btn-register">Registrarse</a>
            {% endif %}
            
            <button class="cart-btn">
                <svg viewBox="0 0 24 24" class="cart-icon">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                <span class="cart-count">0</span>
            </button>
            
            <button class="menu-toggle" id="menuToggle">
                <span class="menu-icon"></span>
            </button>
        </div>
    </div>
    
    <!-- Menú móvil -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-search">
            <input type="text" class="mobile-search-input" placeholder="Buscar...">
            <button class="mobile-search-btn">
                <svg viewBox="0 0 24 24" class="search-icon">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
            </button>
        </div>
        <div class="mobile-links">
            <a href="#" class="mobile-link">Productos</a>
            <a href="#" class="mobile-link">Comunidades</a>
            <a href="#" class="mobile-link">Noticias</a>
            <a href="#" class="mobile-link">Eventos</a>
            
            {% if user.is_authenticated %}
                <a href="#" class="mobile-link">Mi Perfil</a>
                {% if 'vendedor' in user.roles %}
                    <a href="#" class="mobile-link">Mis Productos</a>
                {% endif %}
                {% if 'administrador' in user.roles %}
                    <a href="#" class="mobile-link">Panel Admin</a>
                {% endif %}
                <a href="#" class="mobile-link">Mis Pedidos</a>
                <a href="{% url 'core:logout' %}" class="mobile-link">Cerrar Sesión</a>
            {% else %}
                <a href="{% url 'core:login' %}" class="mobile-link highlight">Ingresar</a>
                <a href="{% url 'core:register' %}" class="mobile-link highlight">Registrarse</a>
            {% endif %}
        </div>
    </div>
</nav>

<!-- Contenido principal -->
<main class="main-content">
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">Arte y Tradición Indígena</h1>
                <p class="hero-subtitle">Conectando ancestralidad con el mundo moderno</p>
                <div class="hero-buttons">
                    <a href="#productos" class="hero-btn primary-btn">Explorar Productos</a>
                    <a href="#comunidades" class="hero-btn secondary-btn">Conocer Comunidades</a>
                </div>
            </div>
            <div class="hero-decoration">
                <div class="decoration-element el1"></div>
                <div class="decoration-element el2"></div>
                <div class="decoration-element el3"></div>
            </div>
        </div>
        <div class="hero-pattern"></div>
    </section>
</main>
{% endblock %}